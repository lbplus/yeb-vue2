{"remainingRequest":"C:\\Users\\Dongeast\\Desktop\\Java项目\\yeb前端项目\\yeb前端二\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Dongeast\\Desktop\\Java项目\\yeb前端项目\\yeb前端二\\src\\utils\\menus.js","dependencies":[{"path":"C:\\Users\\Dongeast\\Desktop\\Java项目\\yeb前端项目\\yeb前端二\\src\\utils\\menus.js","mtime":1637376871571},{"path":"C:\\Users\\Dongeast\\Desktop\\Java项目\\yeb前端项目\\yeb前端二\\babel.config.js","mtime":1636369865443},{"path":"C:\\Users\\Dongeast\\Desktop\\Java项目\\yeb前端项目\\yeb前端二\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dongeast\\Desktop\\Java项目\\yeb前端项目\\yeb前端二\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgeyBnZXRSZXF1ZXN0IH0gZnJvbSAiLi9hcGkiOwpleHBvcnQgdmFyIGluaXRNZW51ID0gZnVuY3Rpb24gaW5pdE1lbnUocm91dGVyLCBzdG9yZSkgewogIGlmIChzdG9yZS5zdGF0ZS5yb3V0ZXMubGVuZ3RoID4gMCkgewogICAgcmV0dXJuOwogIH0KCiAgZ2V0UmVxdWVzdCgiL3N5c3RlbS9jZmcvbWVudSIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgIGlmIChkYXRhKSB7CiAgICAgIC8vICDmoLzlvI/ljJZSb3V0ZXIKICAgICAgdmFyIGZtdFJvdXRlcyA9IGZvcm1hdFJvdXRlcyhkYXRhKTsgLy8gIOa3u+WKoOWIsHJvdXRlcgoKICAgICAgcm91dGVyLmFkZFJvdXRlcyhmbXRSb3V0ZXMpOyAvL+WwhuaVsOaNruWtmOWFpXZ1ZXgKCiAgICAgIHN0b3JlLmNvbW1pdCgnaW5pdFJvdXRlcycsIGZtdFJvdXRlcyk7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdjb25uZWN0Jyk7CiAgICB9CiAgfSk7Cn07IC8vICByb3V0ZXPmmK/ku47lkI7nq6/mjqXmlLbov4fmnaXnmoRkYXRh5pWw5o2uCgpleHBvcnQgdmFyIGZvcm1hdFJvdXRlcyA9IGZ1bmN0aW9uIGZvcm1hdFJvdXRlcyhyb3V0ZXMpIHsKICB2YXIgZm10Um91dGVzID0gW107CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHZhciBwYXRoID0gaXRlbS5wYXRoLAogICAgICAgIF9jb21wb25lbnQgPSBpdGVtLmNvbXBvbmVudCwKICAgICAgICBuYW1lID0gaXRlbS5uYW1lLAogICAgICAgIGljb25DbHMgPSBpdGVtLmljb25DbHMsCiAgICAgICAgY2hpbGRyZW4gPSBpdGVtLmNoaWxkcmVuOwoKICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbiBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgIC8vIOmAkuW9kgogICAgICBjaGlsZHJlbiA9IGZvcm1hdFJvdXRlcyhjaGlsZHJlbik7CiAgICB9CgogICAgdmFyIGZtUm91dGVyID0gewogICAgICBwYXRoOiBwYXRoLAogICAgICBuYW1lOiBuYW1lLAogICAgICBpY29uQ2xzOiBpY29uQ2xzLAogICAgICBjaGlsZHJlbjogY2hpbGRyZW4sCiAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgICAgICBpZiAoX2NvbXBvbmVudC5zdGFydHNXaXRoKCdIb21lJykpIHsKICAgICAgICAgIHJlcXVpcmUoWycuLi92aWV3cy8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoX2NvbXBvbmVudC5zdGFydHNXaXRoKCdFbXAnKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL2VtcC8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoX2NvbXBvbmVudC5zdGFydHNXaXRoKCdQZXInKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL3Blci8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoX2NvbXBvbmVudC5zdGFydHNXaXRoKCdTYWwnKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL3NhbC8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoX2NvbXBvbmVudC5zdGFydHNXaXRoKCdTdGEnKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL3N0YS8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoX2NvbXBvbmVudC5zdGFydHNXaXRoKCdTeXMnKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL3N5cy8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIGZtdFJvdXRlcy5wdXNoKGZtUm91dGVyKTsKICB9KTsKICByZXR1cm4gZm10Um91dGVzOwp9Ow=="},{"version":3,"sources":["C:/Users/Dongeast/Desktop/Java项目/yeb前端项目/yeb前端二/src/utils/menus.js"],"names":["getRequest","initMenu","router","store","state","routes","length","then","data","fmtRoutes","formatRoutes","addRoutes","commit","dispatch","forEach","item","path","component","name","iconCls","children","Array","fmRouter","resolve","startsWith","require","push"],"mappings":"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","sourcesContent":["import { getRequest } from \"./api\";\r\n\r\nexport const initMenu = (router, store) => {\r\n    if (store.state.routes.length > 0) {\r\n        return;\r\n    }\r\n    getRequest(\"/system/cfg/menu\").then(data => {\r\n        if (data) {\r\n            //  格式化Router\r\n            let fmtRoutes = formatRoutes(data);\r\n            //  添加到router\r\n            router.addRoutes(fmtRoutes);\r\n            //将数据存入vuex\r\n            store.commit('initRoutes', fmtRoutes);\r\n            store.dispatch('connect');\r\n        }\r\n    })\r\n}\r\n\r\n//  routes是从后端接收过来的data数据\r\nexport const formatRoutes = (routes) => {\r\n    let fmtRoutes = [];\r\n    routes.forEach(item => {\r\n        let {\r\n            path,\r\n            component,\r\n            name,\r\n            iconCls,\r\n            children\r\n        } = item;\r\n        if (children && children instanceof Array) {\r\n            // 递归\r\n            children = formatRoutes(children);\r\n        }\r\n        let fmRouter = {\r\n            path: path,\r\n            name: name,\r\n            iconCls: iconCls,\r\n            children: children,\r\n            component(resolve) {\r\n                if (component.startsWith('Home')) {\r\n                    require(['../views/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Emp')) {\r\n                    require(['../views/emp/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Per')) {\r\n                    require(['../views/per/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Sal')) {\r\n                    require(['../views/sal/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Sta')) {\r\n                    require(['../views/sta/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Sys')) {\r\n                    require(['../views/sys/' + component + '.vue'], resolve);\r\n                }\r\n            }\r\n        }\r\n        fmtRoutes.push(fmRouter)\r\n    });\r\n    return fmtRoutes;\r\n}"]}]}