{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\yeb3\\src\\components\\chat\\usertext.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\src\\components\\chat\\usertext.vue","mtime":1670099096407},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\babel.config.js","mtime":1636369865443},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ1ZXNydGV4dCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRlbnQ6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IG1hcFN0YXRlKFsiY3VycmVudFNlc3Npb24iXSksCiAgbWV0aG9kczogewogICAgYWRkTWVzc2FnZTogZnVuY3Rpb24gYWRkTWVzc2FnZShlKSB7CiAgICAgIC8vIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSAxMyAmJiB0aGlzLmNvbnRlbnQubGVuZ3RoKSB7CiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzICYmIHRoaXMuY29udGVudC5sZW5ndGgpIHsKICAgICAgICAvLyDoh6rlrprkuYnlj5HpgIHmtojmga8KICAgICAgICB2YXIgbXNnT2JqID0ge307IC8vIGxldCBtc2dPYmogPSBuZXcgT2JqZWN0KCkKCiAgICAgICAgbXNnT2JqLnRvID0gdGhpcy5jdXJyZW50U2Vzc2lvbi51c2VybmFtZTsKICAgICAgICBtc2dPYmouY29udGVudCA9IHRoaXMuY29udGVudDsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zdG9tcC5zZW5kKCIvd3MvY2hhdCIsIHt9LCBKU09OLnN0cmluZ2lmeShtc2dPYmopKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImFkZE1lc3NhZ2UiLCBtc2dPYmopOwogICAgICAgIHRoaXMuY29udGVudCA9ICIiOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["usertext.vue"],"names":[],"mappings":";;;;;;;;;;;AAYA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,QAAA,EAAA,QAAA,CAAA,CAAA,gBAAA,CAAA,CAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,CADA,EACA;AACA;AACA,UAAA,CAAA,CAAA,OAAA,KAAA,EAAA,IAAA,KAAA,OAAA,CAAA,MAAA,EAAA;AACA;AACA,YAAA,MAAA,GAAA,EAAA,CAFA,CAGA;;AACA,QAAA,MAAA,CAAA,EAAA,GAAA,KAAA,cAAA,CAAA,QAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA,OAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,UAAA,EAAA,EAAA,EAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,MAAA;AACA,aAAA,OAAA,GAAA,EAAA;AACA;AACA;AAbA;AARA,CAAA","sourcesContent":["<template>\n\n  <div id=\"uesrtext\">\n    <textarea\n      placeholder=\"按 Enter 发送\"\n      v-model=\"content\"\n      v-on:keyup=\"addMessage\"></textarea>\n  </div>\n\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"uesrtext\",\n  data() {\n    return {\n      content: \"\",\n    };\n  },\n  computed: mapState([\"currentSession\"]),\n  methods: {\n    addMessage(e) {\n      // if (e.ctrlKey && e.keyCode === 13 && this.content.length) {\n      if (e.keyCode === 13 && this.content.length) {\n        // 自定义发送消息\n        let msgObj = {};\n        // let msgObj = new Object()\n        msgObj.to = this.currentSession.username;\n        msgObj.content = this.content;\n        this.$store.state.stomp.send(\"/ws/chat\", {}, JSON.stringify(msgObj));\n        this.$store.commit(\"addMessage\", msgObj);\n        this.content = \"\";\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#uesrtext {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 30%;\n  border-top: solid 1px #ddd;\n\n  > textarea {\n    padding: 10px;\n    width: 100%;\n    height: 100%;\n    border: none;\n    outline: none;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/chat"}]}