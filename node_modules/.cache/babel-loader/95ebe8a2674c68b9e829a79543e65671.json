{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\yeb3\\src\\utils\\api.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\src\\utils\\api.js","mtime":1669905779173},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\babel.config.js","mtime":1636369865443},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\yeb3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IExvYWRpbmcsIE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsgLy8gIOivt+axguaLpuaIquWZqAoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlblN0cicpKSB7CiAgICBzdWNjZXNzLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlblN0cicpOwogIH0KCiAgcmV0dXJuIHN1Y2Nlc3M7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKfSk7IC8vIOWTjeW6lOaLpuaIquWZqAoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAoc3VjY2VzcykgewogIGlmIChzdWNjZXNzLnN0YXR1cyAmJiBzdWNjZXNzLnN0YXR1cyA9PSAyMDApIHsKICAgIGlmIChzdWNjZXNzLmRhdGEuY29kZSA9PSA1MDAgfHwgc3VjY2Vzcy5kYXRhLmRhdGEgPT0gNDAxIHx8IHN1Y2Nlc3MuZGF0YS5jb2RlID09IDQwMykgewogICAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgICBtZXNzYWdlOiBzdWNjZXNzLmRhdGEubWVzc2FnZQogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChzdWNjZXNzLmRhdGEubWVzc2FnZSkgewogICAgICBNZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MuZGF0YS5tZXNzYWdlCiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHN1Y2Nlc3MuZGF0YTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLmNvZGUgPT0gNTA0IHx8IGVycm9yLnJlc3BvbnNlLmNvZGUgPT0gNDA0KSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogIuacjeWKoeWZqOiiq+WQg+S6hiEiCiAgICB9KTsKICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLmNvZGUgPT0gNDAzKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogIuadg+mZkOS4jei2syzor7fogZTns7vnrqHnkIblkZghIgogICAgfSk7CiAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5jb2RlID09IDQwMSkgewogICAgTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICLmsqHmnInnmbvlvZUs6K+36L+b6KGM55m75b2VIgogICAgfSk7CiAgICByb3V0ZXIucmVwbGFjZSgnLycpOwogIH0gZWxzZSB7CiAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgIG1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgIG1lc3NhZ2U6ICfmnKrnn6XplJnor68nCiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuOwp9KTsKdmFyIGJhc2UgPSAnJzsgLy8gIOS8oOmAgWpzb27moLzlvI/nmoRwb3N06K+35rGCCgpleHBvcnQgdmFyIHBvc3RSZXF1ZXN0ID0gZnVuY3Rpb24gcG9zdFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAncG9zdCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9OwpleHBvcnQgdmFyIHB1dFJlcXVlc3QgPSBmdW5jdGlvbiBwdXRSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ3B1dCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9OwpleHBvcnQgdmFyIGdldFJlcXVlc3QgPSBmdW5jdGlvbiBnZXRSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ2dldCcsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9OwpleHBvcnQgdmFyIGRlbGV0ZVJlcXVlc3QgPSBmdW5jdGlvbiBkZWxldGVSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ2RlbGV0ZScsCiAgICB1cmw6ICIiLmNvbmNhdChiYXNlKS5jb25jYXQodXJsKSwKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9Ow=="},{"version":3,"sources":["C:/Users/Administrator/Desktop/yeb3/src/utils/api.js"],"names":["axios","Loading","Message","router","interceptors","request","use","success","window","sessionStorage","getItem","headers","error","console","log","response","status","data","code","message","replace","base","postRequest","url","params","method","putRequest","getRequest","deleteRequest"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { Loading, Message } from 'element-ui'\r\nimport router from 'vue-router'\r\n\r\n\r\n//  请求拦截器\r\naxios.interceptors.request.use(success => {\r\n    if (window.sessionStorage.getItem('tokenStr')) {\r\n        success.headers['Authorization'] = window.sessionStorage.getItem('tokenStr');\r\n    }\r\n    return success;\r\n}, error => {\r\n    console.log(error);\r\n})\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(success => {\r\n    if (success.status && success.status == 200) {\r\n        if (success.data.code == 500 || success.data.data == 401 || success.data.code == 403) {\r\n            Message.error({ message: success.data.message });\r\n            return;\r\n        }\r\n        if (success.data.message) {\r\n            Message.success({ message: success.data.message });\r\n        }\r\n    }\r\n    return success.data;\r\n}, error => {\r\n    if (error.response.code == 504 || error.response.code == 404) {\r\n        Message.error({ message: \"服务器被吃了!\" });\r\n    } else if (error.response.code == 403) {\r\n        Message.error({ message: \"权限不足,请联系管理员!\" })\r\n    } else if (error.response.code == 401) {\r\n        Message.error({ message: \"没有登录,请进行登录\" });\r\n        router.replace('/');\r\n    } else {\r\n        if (error.response.data.message) {\r\n            Message.error({ message: error.response.data.message })\r\n        } else {\r\n            Message.error({ message: '未知错误' })\r\n        }\r\n    }\r\n    return;\r\n});\r\nlet base = '';\r\n\r\n//  传送json格式的post请求\r\nexport const postRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params\r\n    })\r\n}\r\n\r\nexport const putRequest = (url, params) => {\r\n    return axios({\r\n        method: 'put',\r\n        url: `${base}${url}`,\r\n        data: params\r\n    })\r\n}\r\nexport const getRequest = (url, params) => {\r\n    return axios({\r\n        method: 'get',\r\n        url: `${base}${url}`,\r\n        data: params,\r\n    })\r\n}\r\n\r\nexport const deleteRequest = (url, params) => {\r\n    return axios({\r\n        method: 'delete',\r\n        url: `${base}${url}`,\r\n        data: params\r\n    })\r\n}"]}]}